(()=>{"use strict";var e,t,n,o,r,c,a,l,i,u,s,d,m,v,f,h;m=document.querySelector("#timer-hours"),v=document.querySelector("#timer-minutes"),f=document.querySelector("#timer-seconds"),h=document.querySelector("#timer-days"),function e(){var t,n,o,r,c=(t=(new Date("12 january 2021").getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),o=Math.floor(t/60%60),r=Math.floor(t/60/60)%24,{timeRemining:t,days:Math.floor(t/60/60/24),hours:r,minutes:o,seconds:n});m.textContent=c.hours<10?"0"+c.hours:c.hours,v.textContent=c.minutes<10?"0"+c.minutes:c.minutes,f.innerHTML=c.seconds<10?"0"+c.seconds:c.seconds,h.textContent=c.days<10?"0"+c.days:c.days,c.timeRemining<=0&&(m.textContent="00",m.style.color="red",v.textContent="00",v.style.color="red",f.innerHTML="00",f.style.color="red",h.textContent="00",h.style.color="red",clearInterval(c.timeRemining)),setInterval((function(){e()}),1e3)}(),function(){var e=document.querySelector(".menu"),t=document.querySelector("menu"),n=t.querySelectorAll("ul>li"),o=function(){t.classList.toggle("active-menu")};e.addEventListener("click",o),t.addEventListener("click",(function(e){var t=e.target;return t.classList.contains("close-btn")?o():(t=t.closest(".menu"))?void 0:o()}));var r=document.querySelector(".service"),c=document.querySelector(".portfolio"),a=document.querySelector(".calc"),l=document.querySelector(".command"),i=document.querySelector(".connect");n[0].addEventListener("click",(function(){event.preventDefault(),r.scrollIntoView({behavior:"smooth",block:"start"})})),n[1].addEventListener("click",(function(){event.preventDefault(),c.scrollIntoView({block:"start",behavior:"smooth"})})),n[2].addEventListener("click",(function(){event.preventDefault(),a.scrollIntoView({block:"start",behavior:"smooth"})})),n[3].addEventListener("click",(function(){event.preventDefault(),l.scrollIntoView({block:"start",behavior:"smooth"})})),n[4].addEventListener("click",(function(){event.preventDefault(),i.scrollIntoView({block:"start",behavior:"smooth"})}))}(),s=document.querySelectorAll(".popup-btn"),d=document.querySelector(".popup"),s.forEach((function(e){return e.addEventListener("click",(function(){var e=document.querySelector(".popup-content"),t=-20;document.documentElement.clientWidth>768?(e.style.animation="showBlock 0.5s linear forwards",d.style.display="block",requestAnimationFrame((function n(){t+=2,e.style.left=t+"%",t<=38&&requestAnimationFrame(n),cancelAnimationFrame(n)}))):(e.style.animation="showBlock 0.5s linear forwards",d.style.display="block")}))})),d.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?d.style.display="none":(t=t.closest(".popup-content"))||(d.style.display="none")})),(u=document.querySelector("body > main > a")).addEventListener("click",(function(e){e.preventDefault();var t=u.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})})),a=document.querySelector(".service-header"),l=a.querySelectorAll(".service-header-tab"),i=document.querySelectorAll(".service-tab"),a.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&l.forEach((function(e,n){e===t&&function(e){for(var t=0;t<i.length;t++)e===t?(l[t].classList.add("active"),i[t].classList.remove("d-none")):(l[t].classList.remove("active"),i[t].classList.add("d-none"))}(n)}))})),function(){var e,t=document.querySelector(".portfolio-content"),n=document.querySelectorAll(".portfolio-item"),o=0;!function(){var e=document.querySelector(".portfolio-dots"),t=document.createElement("li");e.appendChild(t),t.classList.add("dot");for(var o=0;o<n.length-1;o++)e.append(t.cloneNode());document.querySelector("#all-progects > ul > li:nth-child(1)").classList.add("dot-active")}();var r=document.querySelectorAll(".dot"),c=function(e,t,n){e[t].classList.remove(n)},a=function(e,t,n){e[t].classList.add(n)},l=function(){c(n,o,"portfolio-item-active"),c(r,o,"dot-active"),++o>=n.length&&(o=0),a(n,o,"portfolio-item-active"),a(r,o,"dot-active")},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(l,t)},u=function(){clearInterval(e)};u(),t.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(c(n,o,"portfolio-item-active"),c(r,o,"dot-active"),t.matches("#arrow-left")?o--:t.matches("#arrow-right")?o++:t.matches(".dot")&&r.forEach((function(e,n){e===t&&(o=n)})),o>=n.length&&(o=0),o<0&&(o=n.length-1),a(n,o,"portfolio-item-active"),a(r,o,"dot-active"))})),t.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&u()})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i()})),i(1500)}(),r=document.querySelector("#command"),c=r.querySelectorAll(".command__photo"),r.addEventListener("mouseover",(function(e){if(e.target.matches(".command__photo"))for(var t=0;t<c.length;t++)if(e.target===c[t]){var n=e.target.src;e.target.src=e.target.dataset.img,e.target.dataset.img=n}})),r.addEventListener("mouseout",(function(e){if(e.target.matches(".command__photo"))for(var t=0;t<c.length;t++)if(e.target===c[t]){var n=e.target.src;e.target.src=e.target.dataset.img,e.target.dataset.img=n}})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-count"),c=document.querySelector(".calc-day"),a=document.getElementById("total"),l=t.querySelectorAll("input"),i=function(){var t,l,i,u=1,s=1,d=n.options[n.selectedIndex].value,m=+o.value;r.value>1&&(u+=(r.value-1)/10),c.value&&c.value<5?s*=2:c.value&&c.value<10?s*=1.5:s=1,i=d&&m?e*d*m*u*s:0,a.textContent=i,t=i,l=null,window.requestAnimationFrame((function e(n){l||(l=n);var o=Math.min((n-l)/1e3,1);a.textContent=Math.floor(o*t),o<1&&window.requestAnimationFrame(e)}))};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&i()})),t.addEventListener("input",(function(e){for(var t=e.target,n=0;n<l.length;n++)t.matches("input")&&(l[n].value=l[n].value.replace(/\D/i,""))}))}(100),function(){var e=[document.getElementById("form1"),document.getElementById("form2"),document.getElementById("form3")],t=document.createElement("div");t.style.color="#19b5fe",t.style.margin="25px";var n=function(){setTimeout((function(){t.textContent=""}),3e3)};e.forEach((function(e){e.addEventListener("submit",(function(o){o.preventDefault(),e.appendChild(t);var r=new FormData(e),c={};t.textContent="Загрузка...",r.forEach((function(e,t){c[t]=e}));var a,l=function(){setTimeout((function(){e.querySelectorAll("input").forEach((function(e){e.value=""}))}),2e3)},i=function(e){return!(""===e.user_name||""===e.user_phone||""===e.user_email||e.user_name<3||e.user_phone.length<=10||e.user_phone.length>=13)};!1===i(c)?(t.textContent="Пожалуйста, корректно внесите данные",i(c),l(),n()):((a=c,fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).then((function(e){if(200!==e.status)throw new Error("status network not 200");t.textContent="Спасибо! Мы скоро с Вами свяжемся!",n()})).catch((function(e){t.textContent="Что-то пошло не так...",console.error(e),n()})),l())}))}))}(),e=document.querySelectorAll('[name="user_name"]'),t=document.querySelectorAll('[name="user_phone"]'),n=document.querySelectorAll('[name="user_email"]'),o=document.getElementById("form2-message"),e.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^А-ЯЁа-яё\s]+/g,"")}))})),t.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^0-9+]/g,""),e.value=e.value.replace(/\w{13,}/g,"")}))})),n.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^\w+@\w+.\w{2,3}]+/g,"")}))})),o.addEventListener("input",(function(){o.value=o.value.replace(/[^А-ЯЁа-яё\s.,!?]+/g,"")}))})();